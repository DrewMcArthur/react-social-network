webpackJsonp([9],{1041:function(e,t,r){"use strict";var n=r(1077);t.a=n.a},1073:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1074);t.default=n.a},1074:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(64),i=r(121),s=r(376),c=r.n(s),u=r(377),p=r.n(u),d=r(337),f=(r.n(d),r(76)),h=r(367),m=r.n(h),g=r(38),v=r.n(g),C=r(65),b=r(1075),y=r(1081),E=r(1083),_=r(1085),w=r(37),O=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),x=function(e){return a.a.createElement(v.a,{component:"div",style:{padding:24}},e.children)},I=function(e){function t(t){var r=e.call(this,t)||this;r.handleChangeTab=function(e,t){var n=r.props,o=(n.circlesLoaded,n.goTo),a=n.setHeaderTitle;switch(r.setState({tabIndex:t}),t){case 0:o("/people"),a("People");break;case 1:o("/people/circles"),a("Circles");break;case 2:o("/people/followers"),a("Followers")}},r.getTabIndexByNav=function(e){switch(e){case"circles":return 1;case"followers":return 2;default:return 0}};var n=r.props.match.params.tab;return r.state={tabIndex:r.getTabIndexByNav(n)},r}return O(t,e),t.prototype.componentWillMount=function(){var e=this.props.setHeaderTitle;switch(this.props.match.params.tab){case void 0:case"":e("People");break;case"circles":e("Circles");break;case"followers":e("Followers")}},t.prototype.render=function(){var e=this.props,t=e.circlesLoaded,r=(e.goTo,e.setHeaderTitle,e.translate),n=this.state.tabIndex;return a.a.createElement("div",{style:{margin:"0 auto"}},a.a.createElement(m.a,{position:"static",color:"default"},a.a.createElement(c.a,{indicatorColor:d.grey[50],onChange:this.handleChangeTab,value:n,centered:!0,textColor:"primary"},a.a.createElement(p.a,{label:r("people.findPeopleTab")}),a.a.createElement(p.a,{label:r("people.followingTab")}),a.a.createElement(p.a,{label:r("people.followersTab")}))),0===n&&a.a.createElement(x,null,t?a.a.createElement(b.a,null):""),1===n&&a.a.createElement(x,null,t?a.a.createElement(y.a,null):"",t?a.a.createElement(_.a,null):""),2===n&&a.a.createElement(x,null,t?a.a.createElement(E.a,null):""))},t.propTypes={},t}(o.Component);t.a=Object(i.e)(Object(l.b)(function(e,t){return{translate:Object(C.c)(e.get("locale")),uid:e.getIn(["authorize","uid"],0),circlesLoaded:e.getIn(["circle","loaded"])}},function(e,t){return{goTo:function(t){return e(Object(f.b)(t))},setHeaderTitle:function(t){return e(w.setHeaderTitle(t))}}})(I))},1075:function(e,t,r){"use strict";var n=r(1076);t.a=n.a},1076:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(64),i=r(930),s=r.n(i),c=r(65),u=r(16),p=(r.n(u),r(1041)),d=r(932),f=r(122),h=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),m=function(e){function t(t){var r=e.call(this,t)||this;return r.scrollLoad=function(e){(0,r.props.loadPeople)(e,10)},r.state={},r}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.hasMorePeople,r=e.translate,n=Object(u.Map)(this.props.peopleInfo);return a.a.createElement("div",null,a.a.createElement(s.a,{pageStart:0,loadMore:this.scrollLoad,hasMore:t,useWindow:!0,loader:a.a.createElement(d.a,{key:"find-people-load-more-progress"})},a.a.createElement("div",{className:"tracks"},n&&n.count()>0?a.a.createElement("div",null,a.a.createElement("div",{className:"profile__title"},r("people.suggestionsForYouLabel")),a.a.createElement(p.a,{users:n}),a.a.createElement("div",{style:{height:"24px"}})):a.a.createElement("div",{className:"g__title-center"},r("people.nothingToShowLabel")))))},t}(o.Component);t.a=Object(l.b)(function(e,t){e.getIn(["user","people"]);var r=e.getIn(["user","people","hasMoreData"],!0),n=e.getIn(["user","info"]);return{translate:Object(c.c)(e.get("locale")),peopleInfo:n,hasMorePeople:r}},function(e,t){return{loadPeople:function(t,r){return e(f.dbGetPeopleInfo(t,r))}}})(m)},1077:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(64),i=r(2),s=r.n(i),c=r(1078),u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(e){function t(t){var r=e.call(this,t)||this;return r.userList=function(){var e=r.props.uid,t=r.props.users,n=[];return t&&t.forEach(function(t,r){e!==r&&n.push(a.a.createElement(c.a,{key:r,userId:r,user:t}))}),n},r.state={},r}return u(t,e),t.prototype.render=function(){return a.a.createElement("div",{className:"grid grid__1of4 grid__space-around"},this.userList())},t.propTypes={users:s.a.object},t}(o.Component);t.a=Object(l.b)(function(e,t){return{uid:e.getIn(["authorize","uid"],0)}},function(e,t){return{}})(p)},1078:function(e,t,r){"use strict";var n=r(1079);t.a=n.a},1079:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(64),i=r(2),s=r.n(i),c=r(76),u=r(65),p=r(6),d=r.n(p),f=r(16),h=(r.n(f),r(31)),m=r.n(h),g=r(95),v=r.n(g),C=r(351),b=r.n(C),y=r(184),E=r.n(y),_=r(195),w=r.n(_),O=r(94),x=(r.n(O),r(344)),I=r.n(x),S=r(363),L=r.n(S),N=r(194),j=r.n(N),k=r(190),T=r.n(k),P=r(342),M=r.n(P),R=r(346),A=r.n(R),B=r(348),D=r.n(B),U=r(347),z=r.n(U),F=r(1080),q=r.n(F),W=r(75),H=r.n(W),Y=r(337),X=(r.n(Y),r(919)),V=r(77),G=r(370),J=r(96),K=r(53),Q=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Z=function(e){function t(t){var r=e.call(this,t)||this;r.styles={followButton:{position:"absolute",bottom:"30px",left:0,right:0},dialog:{width:"",maxWidth:"280px",borderRadius:"4px"}},r.handleDoneAddCircle=function(){var e=r.props,t=e.userId,n=(e.user,e.addUserToCircle),o=e.selectedCircles,a=e.deleteFollowingUser,l=e.avatar,i=e.fullName;r.state.disabledDoneCircles||(o.count()>0?n(o,{avatar:l,userId:t,fullName:i}):a(t))},r.onFollowUser=function(e){e.preventDefault();var t=r.props,n=t.isFollowed,o=t.followUser,a=t.followingCircle,l=t.userId,i=(t.user,t.followRequest),s=t.avatar,c=t.fullName;i&&i.status===K.a.Sent||(n?r.onRequestOpenAddCircle():o(a.get("id"),{avatar:s,userId:l,fullName:c}))},r.onRequestCloseAddCircle=function(){var e=r.props,t=e.setSelectedCircles,n=e.userId,o=e.userBelongCircles,a=e.closeSelectCircles;t(n,o),a(n),r.setState({circleName:"",disabledCreateCircle:!0,disabledAddToCircle:!0,disabledDoneCircles:!0})},r.onRequestOpenAddCircle=function(){var e=r.props;(0,e.openSelectCircles)(e.userId)},r.onCreateCircle=function(){var e=r.state.circleName;e&&""!==e.trim()&&(r.props.createCircle(r.state.circleName),r.setState({circleName:"",disabledCreateCircle:!0}))},r.handleChangeName=function(e){r.setState({circleName:e.target.value,disabledCreateCircle:void 0===e.target.value||""===e.target.value.trim()})},r.handleSelectCircle=function(e,t,n){var o=r.props,a=(o.userBelongCircles,o.circles,o.setSelectedCircles),l=o.selectedCircles,i=o.userId,s=l;if(t)s=l.push(n);else{var c=l.indexOf(n);s=s.remove(c)}a(i,s),r.setState({disabledDoneCircles:!r.selectedCircleChange(s)})},r.circleList=function(){var e=r.props,t=e.circles,n=e.userId,o=(e.userBelongCircles,e.selectedCircles),l=e.classes,i=[];if(t)return t.forEach(function(e,t){var s=!!o&&o.indexOf(t)>-1;i.push(a.a.createElement(j.a,{key:t+"-"+n,dense:!0,className:l.listItem},a.a.createElement(I.a,{className:l.circleName,primary:e.get("name")}),a.a.createElement(L.a,null,a.a.createElement(b.a,{onChange:function(e,n){return r.handleSelectCircle(e,n,t)},checked:s}))))}),i},r.selectedCircleChange=function(e){var t=!1,n=r.props,o=n.userBelongCircles;n.circles;if(e.count()===o.count())for(var a=0;a<e.count();a++){var l=e.get(a);if(!(o.indexOf(l)>-1)){t=!0;break}}else t=!0;return t};var n=r.props;n.userBelongCircles,n.circles,n.userId;return r.state={circleName:"",disabledCreateCircle:!0,disabledAddToCircle:!0,disabledDoneCircles:!0},r.handleChangeName=r.handleChangeName.bind(r),r.onCreateCircle=r.onCreateCircle.bind(r),r.handleDoneAddCircle=r.handleDoneAddCircle.bind(r),r.circleList=r.circleList.bind(r),r}return Q(t,e),t.prototype.render=function(){var e=this,t=this.state.disabledDoneCircles,r=this.props,n=r.isFollowed,o=r.firstBelongCircle,l=r.belongCirclesCount,i=r.followRequest,s=r.userId,c=r.isSelecteCirclesOpen,u=r.addToCircleRequest,p=r.deleteFollowingUserRequest,f=r.classes,h=r.translate;return a.a.createElement(m.a,{key:s,elevation:1,className:d()("grid-cell",f.paper)},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"100%",position:"relative",paddingTop:20}},a.a.createElement("div",{onClick:function(){return e.props.goTo("/"+e.props.userId)},style:{cursor:"pointer"}},a.a.createElement(X.a,{fullName:this.props.fullName,fileName:this.props.avatar,size:90})),a.a.createElement("div",{onClick:function(){return e.props.goTo("/"+e.props.userId)},className:"people__name",style:{cursor:"pointer"}},a.a.createElement("div",null,this.props.fullName)),a.a.createElement("div",{style:this.styles.followButton},a.a.createElement(v.a,{color:"primary",onClick:this.onFollowUser,disabled:!!i&&i.status===K.a.Sent||!!p&&p.status===K.a.Sent},n?l>1?h("userBox.numberOfCircleButton",{circlesCount:l}):o?o.get("name","Followed"):h("userBox.followButton"):h("userBox.followButton")))),a.a.createElement(A.a,{PaperProps:{className:f.fullPageXs},key:this.props.userId||0,open:!0===c,onClose:this.onRequestCloseAddCircle},a.a.createElement(z.a,{className:f.dialogContent},a.a.createElement(T.a,null,this.circleList(),a.a.createElement("div",{className:f.space}),a.a.createElement(M.a,null),a.a.createElement(j.a,{key:"'circleName'-"+s,dense:!0,className:f.listItem},a.a.createElement(I.a,{primary:a.a.createElement(E.a,{autoFocus:!0,placeholder:h("userBox.groupNamePlaceholder"),onChange:this.handleChangeName,value:this.state.circleName})}),a.a.createElement(L.a,null,a.a.createElement(H.a,{onClick:this.onCreateCircle,disabled:this.state.disabledCreateCircle},a.a.createElement(w.a,{title:h("userBox.createCircleTooltip")},a.a.createElement(q.a,null))))))),a.a.createElement(D.a,null,a.a.createElement(v.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,onClick:this.onRequestCloseAddCircle,style:{color:Y.grey[800]}},h("userBox.cancelButton")),a.a.createElement(v.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,disabled:t||!!u&&u.status===K.a.Sent,onClick:this.handleDoneAddCircle},h("userBox.doneButton")))))},t.propTypes={userId:s.a.string,user:s.a.object},t}(o.Component);t.a=Object(l.b)(function(e,t){e.getIn(["authorize","uid"]),e.getIn(["server","request"]);var r=e.getIn(["circle","circleList"],{}),n=e.getIn(["circle","userTies",t.userId,"circleIdList"],Object(f.List)()),o=n.count()>0,a=r.filter(function(e){return e.get("isSystem",!1)&&"Following"===e.get("name")}).toArray()[0],l=V.a.createServerRequestId(J.a.CircleFollowUser,t.userId),i=e.getIn(["server","request",l]),s=V.a.createServerRequestId(J.a.CircleAddToCircle,t.userId),c=(e.getIn(["server","request",s]),V.a.createServerRequestId(J.a.CircleDeleteFollowingUser,t.userId)),p=(e.getIn(["server","request",c]),e.getIn(["circle","selectedCircles",t.userId],[])),d=e.getIn(["circle","openSelecteCircles",t.userId],[]),h=e.getIn(["user","info",t.userId]);return{translate:Object(u.c)(e.get("locale")),isSelecteCirclesOpen:d,isFollowed:o,selectedCircles:p,circles:r,followingCircle:a,userBelongCircles:n,followRequest:i,belongCirclesCount:n.count()||0,firstBelongCircle:n?r.get(n.get(0),Object(f.Map)({})):Object(f.Map)({}),avatar:h.avatar||"",fullName:h.fullName||""}},function(e,t){return{createCircle:function(t){return e(G.dbAddCircle(t))},addUserToCircle:function(t,r){return e(G.dbUpdateUserInCircles(t,r))},followUser:function(t,r){return e(G.dbFollowUser(t,r))},deleteFollowingUser:function(t){return e(G.dbDeleteFollowingUser(t))},setSelectedCircles:function(t,r){return e(G.setSelectedCircles(t,r))},removeSelectedCircles:function(t,r){return e(G.removeSelectedCircles(t))},openSelectCircles:function(t){return e(G.openSelectCircleBox(t))},closeSelectCircles:function(t){return e(G.closeSelectCircleBox(t))},goTo:function(t){return e(Object(c.b)(t))}}})(Object(O.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},paper:{height:254,width:243,margin:10,textAlign:"center",minWidth:230,maxWidth:"257px"},dialogContent:{paddingTop:"5px",padding:"0px 5px 5px 5px"},circleName:{fontSize:"1rem"},space:{height:20},fullPageXs:(t={},t[e.breakpoints.down("xs")]={width:"100%",height:"100%",margin:0,overflowY:"auto"},t)};var t})(Z))},1080:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(336)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),"Add");t.default=a},1081:function(e,t,r){"use strict";var n=r(1082);t.a=n.a},1082:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(64),i=r(65),s=r(16),c=(r.n(s),r(1041)),u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(e){function t(t){var r=e.call(this,t)||this;return r.state={},r}return u(t,e),t.prototype.render=function(){var e=this.props.translate,t=Object(s.Map)(this.props.followingUsers);return a.a.createElement("div",null,t&&0!==t.keySeq().count()?a.a.createElement("div",null,a.a.createElement("div",{className:"profile__title"},e("people.followingLabel")),a.a.createElement(c.a,{users:t}),a.a.createElement("div",{style:{height:"24px"}})):a.a.createElement("div",{className:"g__title-center"},e("people.noFollowingLabel")))},t.propTypes={},t}(o.Component);t.a=Object(l.b)(function(e,t){var r=e.getIn(["authorize","uid"],0),n=e.getIn(["circle","circleList"],{}),o=e.getIn(["circle","userTies"],{});return{translate:Object(i.c)(e.get("locale")),uid:r,circles:n,followingUsers:o}},function(e,t){return{}})(p)},1083:function(e,t,r){"use strict";var n=r(1084);t.a=n.a},1084:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(64),i=r(65),s=r(1041),c=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t){var r=e.call(this,t)||this;return r.state={},r}return c(t,e),t.prototype.render=function(){var e=this.props.translate,t=this.props.followers;return a.a.createElement("div",null,t&&0!==t.keySeq().count()?a.a.createElement("div",null,a.a.createElement("div",{className:"profile__title"},e("people.followersLabel")),a.a.createElement(s.a,{users:t}),a.a.createElement("div",{style:{height:"24px"}})):a.a.createElement("div",{className:"g__title-center"},e("people.noFollowersLabel")))},t.propTypes={},t}(o.Component);t.a=Object(l.b)(function(e,t){e.getIn(["authorize","uid"],0),e.getIn(["circle","circleList"],{});var r=e.getIn(["circle","userTieds"],{});return{translate:Object(i.c)(e.get("locale")),followers:r}},function(e,t){return{}})(u)},1085:function(e,t,r){"use strict";var n=r(1086);t.a=n.a},1086:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(64),i=r(190),s=r.n(i),c=r(1087),u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(e){function t(t){var r=e.call(this,t)||this;return r.circleList=function(){var e=r.props,t=e.circles,n=e.uid,o=[];return t&&t.map(function(e,t){o.push(a.a.createElement(c.a,{key:t,circle:e,id:t,uid:n}))}),o},r.state={},r}return u(t,e),t.prototype.render=function(){var e=this.circleList();return a.a.createElement("div",{style:{maxWidth:"800px",margin:"40px auto"}},e&&0!==e.length?a.a.createElement("div",null,a.a.createElement("div",{className:"profile__title"},"Your circles"),a.a.createElement(s.a,null,e),a.a.createElement("div",{style:{height:"24px"}})):"")},t.propTypes={},t}(o.Component);t.a=Object(l.b)(function(e,t){return{uid:e.getIn(["authorize","uid"]),circles:e.getIn(["circle","circleList"],{})}},function(e,t){return{}})(p)},1087:function(e,t,r){"use strict";var n=r(1088);t.a=n.a},1088:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(64),i=r(76),s=r(16),c=(r.n(s),r(344)),u=r.n(c),p=r(363),d=r.n(p),f=r(194),h=r.n(f),m=r(190),g=r.n(m),v=r(349),C=r.n(v),b=r(1089),y=r.n(b),E=r(75),_=r.n(E),w=r(920),O=r.n(w),x=r(184),I=r.n(x),S=r(186),L=r.n(S),N=r(185),j=r.n(N),k=r(94),T=(r.n(k),r(346)),P=r.n(T),M=r(347),R=r.n(M),A=r(368),B=r.n(A),D=r(342),U=r.n(D),z=r(95),F=r.n(z),q=r(1040),W=r.n(q),H=r(31),Y=r.n(H),X=r(132),V=r.n(X),G=r(197),J=r.n(G),K=r(919),Q=r(370),Z=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$=function(e){function t(t){var r=e.call(this,t)||this;return r.styles={userListItem:{backgroundColor:"#e2e2e2"},rightIconMenu:{display:"block",position:"absolute",top:"0px",right:"12px"},settingOverlay:{background:"rgba(0,0,0,0.12)"},settingContent:{maxWidth:"400px"},listMenu:{color:"rgba(0,0,0,0.87)",fontSize:"16px",marginRight:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},r.handleChangeCircleName=function(e){var t=e.target.value;r.setState({circleName:t,disabledSave:!t||""===t.trim()})},r.handleCloseMenu=function(){r.setState({anchorElMenu:null})},r.handleOpenMenu=function(e){r.setState({anchorElMenu:e.currentTarget})},r.handleUpdateCircle=function(){var e=r.state.circleName;e&&""!==e.trim()&&r.props.updateCircle({name:e,id:r.props.id})},r.handleDeleteCircle=function(){r.props.deleteCircle(r.props.id)},r.handleToggleCircle=function(){r.setState({open:!r.state.open})},r.userList=function(){var e=r.props.usersOfCircle,t=[];if(e)return e.forEach(function(e,n){var o=e.get("fullName"),l=e.get("avatar","");t.push(a.a.createElement(h.a,{button:!0,key:r.props.id+"."+n,style:r.styles.userListItem,value:2,onClick:function(){return r.props.goTo("/"+n)}},a.a.createElement(K.a,{fullName:o,fileName:l}),a.a.createElement(u.a,{inset:!0,primary:o})))}),t},r.state={open:!1,circleName:r.props.circle.get("name",""),disabledSave:!1,anchorElMenu:null},r.handleToggleCircle=r.handleToggleCircle.bind(r),r.handleDeleteCircle=r.handleDeleteCircle.bind(r),r.handleUpdateCircle=r.handleUpdateCircle.bind(r),r.handleChangeCircleName=r.handleChangeCircleName.bind(r),r}return Z(t,e),t.prototype.render=function(){var e=this.props,t=e.circle,r=e.classes,n=this.state.anchorElMenu,o=a.a.createElement("div",null,a.a.createElement(_.a,{"aria-owns":n?"circle-menu":"","aria-haspopup":"true",onClick:this.handleOpenMenu},a.a.createElement(O.a,null)),a.a.createElement(J.a,{id:"current-user-menu-root",anchorEl:n,open:Boolean(n),onClose:this.handleCloseMenu,PaperProps:{style:{maxHeight:900,boxShadow:"0 1px 4px 0 rgba(0,0,0,0.14)"}}},a.a.createElement(Y.a,null,a.a.createElement(L.a,{role:"menu"},a.a.createElement(j.a,{onClick:this.handleDeleteCircle}," Delete Circle "),a.a.createElement(j.a,{onClick:this.props.openCircleSettings}," Setting "))))),l=a.a.createElement("div",null,a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},a.a.createElement("div",{style:{paddingRight:"10px"}},a.a.createElement(W.a,{onClick:this.props.closeCircleSettings,style:{cursor:"pointer"}})),a.a.createElement("div",{style:{color:"rgba(0,0,0,0.87)",flex:"1 1",font:"500 20px Roboto,RobotoDraft,Helvetica,Arial,sans-serif"}},"Circle settings"),a.a.createElement("div",{style:{marginTop:"-9px"}},a.a.createElement(F.a,{color:"primary",disabled:this.state.disabledSave,onClick:this.handleUpdateCircle}," SAVE "))),a.a.createElement(U.a,null));return a.a.createElement("div",null,a.a.createElement(h.a,{className:r.root,key:this.props.id+"-CircleComponent",onClick:this.handleToggleCircle},a.a.createElement(C.a,{className:r.icon},a.a.createElement(y.a,null)),a.a.createElement(u.a,{inset:!0,primary:a.a.createElement("span",{style:this.styles},this.props.circle.get("name"))}),a.a.createElement(d.a,null,t.get("isSystem")?null:o)),a.a.createElement(V.a,{component:"li",in:this.state.open,timeout:"auto",unmountOnExit:!0},a.a.createElement(g.a,{disablePadding:!0},this.userList())),a.a.createElement(P.a,{PaperProps:{className:r.fullPageXs},key:this.props.id,open:this.props.openSetting,onClose:this.props.closeCircleSettings,classes:{paper:r.dialogPaper}},a.a.createElement(B.a,null,l),a.a.createElement(R.a,null,a.a.createElement(I.a,{fullWidth:!0,autoFocus:!0,placeholder:"Circle name",label:"Circle name",onChange:this.handleChangeCircleName,value:this.state.circleName}))))},t}(o.Component);t.a=Object(l.b)(function(e,t){var r=e.getIn(["circle","userTies"]),n=(e.getIn(["authorize","uid"]),e.getIn(["circle","circleList"],{}).get(t.id,Object(s.Map)({})),t.circle.get("id")),o=Object(s.Map)({});return r.forEach(function(e,r){var n=e;n.getIn(["circleIdList"]).indexOf(t.id)>-1&&(o=o.set(r,n))}),{usersOfCircle:o,openSetting:e.getIn(["circle","openSetting",n],!1),userInfo:e.getIn(["user","info"])}},function(e,t){t.uid;return{deleteCircle:function(t){return e(Q.dbDeleteCircle(t))},updateCircle:function(t){return e(Q.dbUpdateCircle(t))},closeCircleSettings:function(){return e(Q.closeCircleSettings(t.id))},openCircleSettings:function(){return e(Q.openCircleSettings(t.id))},goTo:function(t){return e(Object(i.b)(t))}}})(Object(k.withStyles)(function(e){return{root:{width:"100%",paddingRight:"0px",backgroundColor:e.palette.background.paper},popperOpen:{zIndex:10},popperClose:{pointerEvents:"none",zIndex:0},dialogPaper:{minWidth:400},fullPageXs:(t={},t[e.breakpoints.down("xs")]={width:"100%",height:"100%",margin:0,overflowY:"auto"},t)};var t})($))},1089:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(336)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})),"GroupWork");t.default=a},920:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(336)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),"MoreVert");t.default=a},930:function(e,t,r){e.exports=r(931)},931:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=i(o),l=i(r(2));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.scrollListener=r.scrollListener.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("scroll",this.scrollListener,this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.props.useCapture)}},{key:"attachScrollListener",value:function(){if(this.props.hasMore){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.addEventListener("mousewheel",this.mousewheelListener,this.props.useCapture),e.addEventListener("scroll",this.scrollListener,this.props.useCapture),e.addEventListener("resize",this.scrollListener,this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1===e.deltaY&&e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,r=void 0;if(this.props.useWindow){var n=document.documentElement||document.body.parentNode||document.body,o=void 0!==t.pageYOffset?t.pageYOffset:n.scrollTop;r=this.props.isReverse?o:this.calculateTopPosition(e)+(e.offsetHeight-o-window.innerHeight)}else r=this.props.isReverse?e.parentNode.scrollTop:e.scrollHeight-e.parentNode.scrollTop-e.parentNode.clientHeight;r<Number(this.props.threshold)&&(this.detachScrollListener(),"function"===typeof this.props.loadMore&&this.props.loadMore(this.pageLoaded+=1))}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.element,o=t.hasMore,l=(t.initialLoad,t.isReverse),i=t.loader,s=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow"]));c.ref=function(t){e.scrollComponent=t,s&&s(t)};var u=[r];return o&&(i?l?u.unshift(i):u.push(i):this.defaultLoader&&(l?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),a.default.createElement(n,c,u)}}]),t}();s.propTypes={children:l.default.node.isRequired,element:l.default.string,hasMore:l.default.bool,initialLoad:l.default.bool,isReverse:l.default.bool,loader:l.default.node,loadMore:l.default.func.isRequired,pageStart:l.default.number,ref:l.default.func,threshold:l.default.number,useCapture:l.default.bool,useWindow:l.default.bool},s.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null},t.default=s,e.exports=t.default},932:function(e,t,r){"use strict";var n=r(933);t.a=n.a},933:function(e,t,r){"use strict";var n,o=r(1),a=r.n(o),l=r(337),i=(r.n(l),r(129)),s=r.n(i),c=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return a.a.createElement("div",{key:"load-more-progress",className:"g-load-more"},a.a.createElement(s.a,{size:30,thickness:5,style:{color:l.teal.A400}}))},t}(o.Component);t.a=u}});
//# sourceMappingURL=9.f6be719d.chunk.js.map